/*
	JAVA es sensible a min√∫sculas y mayusculas (min√∫scula != may√∫scula)
	Es norma que una clase comience por letra may√∫scula.
	Los m√©todos y todo tipo de variables comienzan por min√∫scula.

	Las clases JAVA se guardan en ficheros con el mismo nombre
	al que se a√±ade la extensi√≥n Nombre.java.

	Los paquetes deben estar en directorio del mismo nombre, esto es,
	el paquete alg77777777.p1 debe estar en el directorio
	alg77777777\p1. 
 */

package p1;

import java.util.Random; //es la clase que genera n√∫meros aleatorios

/** Esta clase permite trabajar con vectores */
public class Vector4 {
	static int[] v;

	public static void main(String arg[]) {

		for (int i = 10; i < 143489071; i *= 3) { //con la i = 143489071 el programa peta(es el ultimo que puede ejecutar)
			long inicioTiempoSumaConRellena = System.currentTimeMillis();
			v = new int[i];
			rellena(v);
			long inicioTiempoSumaSinRellena = System.currentTimeMillis();
			int s = suma(v);
			long finTiempoS = System.currentTimeMillis();
			long resultadoSumaConRellena = finTiempoS - inicioTiempoSumaConRellena;
			long resultadoSumaSinRellena = finTiempoS - inicioTiempoSumaSinRellena;
			
			if(resultadoSumaConRellena <= 0) {
				iterarPequeÒos(v);
			}

			System.out.println("Suma de los elementos del vector = " + s);
			System.out.println("La suma (con rellena) tardÛ: " + resultadoSumaConRellena + " milisegundos");

			System.out.println("La suma (sin rellena) tardÛ: " + resultadoSumaSinRellena + " milisegundos");
			System.out.println(i);
			System.out.println("---------");
			
		}
		System.out.println("------------------------------------------");

		int[] m = new int[2];
		for (int i = 10; i < 143489071; i *= 3) {//con la i = 143489071 el programa peta
			long inicioTiempoMConRellena = System.currentTimeMillis();
			rellena(v);
			long inicioTiempoMSinRellena = System.currentTimeMillis();
			maximo(v, m);
			long finTiempoM = System.currentTimeMillis();
			long resultadoMaxConRellena = finTiempoM - inicioTiempoMConRellena;
			long resultadoMaxSinRellena = finTiempoM - inicioTiempoMSinRellena;

			System.out.println("Valor del m·ximo del vector = " + m[1]);
			System.out.println("PosiciÛn del m·ximo del vector = " + m[0]);
			System.out.println("El m·ximo (con rellena) tardÛ: " + resultadoMaxConRellena+ " milisegundos");
			System.out.println("El m·ximo (sin rellena) tardÛ: " + resultadoMaxSinRellena+ " milisegundos");

		}

	} // fin de main

	private static void iterarPequeÒos(int[] v2) {
		int n = 100000000;
		long inicioTiempoS = System.currentTimeMillis();
		for(int i = 0; i < n; i++) {
			int s = suma(v);
		}
		long finTiempoS = System.currentTimeMillis();
		float res = (float) (((finTiempoS-inicioTiempoS)/n/1000.0), 0.00000001);
		System.out.println("TARD” LA PEQ: " + res + " segundos");
	
	}

	/**
	 * Este m√©todo da valores aleatorios a un vector de enteros, utiliza para ello
	 * la clase Random del paquete java.util
	 **/
	public static void rellena(int[] a) {
		Random r = new Random();
		int n = a.length;
		for (int i = 0; i < n; i++)
			a[i] = r.nextInt(199) - 99;// valores entre -99 y 99

	} // fin de rellena

	/**
	 * Este m√©todo saca el contenido por pantalla
	 **/
	public static void escribe(int[] a) {
		int n = a.length;
		for (int i = 0; i < n; i++)
			System.out.println("Elemento " + i + " = " + a[i]);
		System.out.println();

	} // fin de escribe

	/**
	 * Este m√©todo suma los elementos de un vector y devuelve el resultado
	 */
	public static int suma(int[] a) {
		int s = 0;
		int n = a.length;
		for (int i = 0; i < n; i++)
			s = s + a[i];
		return s;

	} // fin de suma

	/**
	 * Este m√©todo calcula el m√°ximo y su posici√≥n y devuelve los dos valores.
	 */
	public static void maximo(int[] a, int[] m) {
		int n = a.length;
		m[0] = 0; // posici√≥n inicial
		m[1] = a[0]; // primer elemento como referencia
		for (int i = 1; i < n; i++)
			if (a[i] > m[1]) {
				m[0] = i;
				m[1] = a[i];
			}

	} // fin de maximo

} // fin de clase
